@startuml
left to right direction
entity Llamada <<entity>>{
descripcionOperador
detalleAccionRequerida
duracion
encuestaEnviada
observacionAuditor
respuestasDeEncuesta:RespuestaDeCliente
cambioEstado:CambioEstado
cliente:Cliente

new()
calcularDuracion()
determinarEstadoInicial()
determinarUltimoEstado()
esDePeriodo()
getDuracion()
getNombreClienteDeLlamada()
tieneEncuestaRespondida()
mostrarDatos()
obtenerEncuesta()
determinarUltimoEstado()
getRespuestas()
setDescripcionOperador()
setDuracion()
setEstadoActual()

}

entity RespuestaDeCliente <<entity>>{
fechaEncuesta
respuestaSeleccionada: RespuestaPosible

getDescripcionRta()
obtenerEncuesta()
}
entity RespuestaPosible <<entity>>{
descripcion
valor

getDescripcionRta()
obtenerEncuesta()
}
entity Pregunta<<entity>>{
respuesta: Respuesta
pregunta

getDescripcion()
listarRespuestasPosibles()
obtenerEncuesta()
}

entity Encuesta<<entity>>{
pregunta: Pregunta
descripcion
fechaFinVigencia

armarEncuesta()
esVigente()
getDescripcionEncuesta()
}

entity CambioEstado <<entity>>{
fechaHoraInicio
esEstadoInicial()
getFechaHoraInicio()
getNombreEstado()
new()
esUltimoCambioEstado()
}
entity Estado <<entity>>{
nombre

esFinalizada()
esIniciada()
getNombre()
}
entity Cliente <<entity>>{
dni
nombreCompleto
nroCelular


getNombre()
}
interface PantallaConsultarEncuesta<<Boundary>>{
fechaInicioInput
fechaFinInput
llamadaLbl


opcConsultarEncuesta()
habilitarPantalla()
solicitarPeriodo()
tomarSeleccionFechaInicio()
tomarSeleccionFechaFin()
pedirSeleccionLlamada()
tomarSeleccionLlamada()
mostrarDatosLlamada()
pedirSeleccionFormato()
tomarSeleccionFormato()
}


abstract ControlConsultarEncuesta<<Control>>{
fechaHoraInicio
fechaHoraFin
llamadasEnPeriodoRespondidas
llamadaSeleccionada
formatoSeleccionado

consultarEncuesta()
tomarSeleccionFechaInicio()
tomarSeleccionFechaFin()
buscarLlamadasRespondidas()
tomarSeleccionLlamada()
obtenerDatosLlamada()
tomarSeleccionFormato()
generarInformeCSV()
finCU()
}

Llamada -->"0..*" RespuestaDeCliente
RespuestaDeCliente -->"1" RespuestaPosible
Encuesta o--"1..*" Pregunta 
Pregunta o--"1..*" RespuestaPosible

Llamada -->"1..*"CambioEstado
CambioEstado-->"1"Estado

Llamada -->"1"Cliente

ControlConsultarEncuesta ..> PantallaConsultarEncuesta
ControlConsultarEncuesta <.. PantallaConsultarEncuesta

ControlConsultarEncuesta ..> Llamada
Pregunta ..> Encuesta


@enduml
